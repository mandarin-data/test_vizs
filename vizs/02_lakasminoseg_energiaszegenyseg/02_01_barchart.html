<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stacked Barchart</title>
    <script src="../../js/d3.v4.min.js"></script>
    <link rel="stylesheet" href="../../css/02_01_barchart.css" >
    <script src="../../js/02_01_barchart.js"></script>
	
</head>
<body>
	<div id="viscontainer-11">
	<div class="form-style-2">
		<select class="select-field" id ="d3-dropdown" >
		  <option value="02_01_01_komfort_fokozat">Komfort fokozat</option>
		  <option value="02_01_02_infra_hiany">Wc</option>
		  <option value="02_01_03_felujitas">Felújítás</option>
		</select>

		<label>
			<input type="checkbox" class="myinput large" id=mycheck>Rendezés
		</label>

		<br>
	</div>
	
	<div  width="960" height="500" id="chart"></div>
	<svg id="vis-11"></svg>
	<script>
		var donut = BarChart()

		d3.tsv("../../data/02_lakasminoseg_energiaszegenyseg/02_01_01_komfort_fokozat.tsv", function(error, data) {
			if (error) throw error;
			d3.select('#chart')
				.datum(data) // bind data to the div
				.call(donut); // draw chart in div
		});

		
		
		d3.select("select")
			.on("change",function(d){
			var selected = d3.select("#d3-dropdown").node().value;
			
		var str;
		if(selected == "02_01_01_komfort_fokozat"){
			str = "../../data/02_lakasminoseg_energiaszegenyseg/02_01_01_komfort_fokozat.tsv";
		}else if(selected == "02_01_02_infra_hiany"){
			str = "../../data/02_lakasminoseg_energiaszegenyseg/02_01_02_infra_hiany.tsv";
		}else{
			str = "../../data/02_lakasminoseg_energiaszegenyseg/02_01_03_felujitas.tsv";
		}

		console.log(str)


		var donut = BarChart()
		d3.tsv(str, function(error, data) {
			if (error) throw error;
			d3.select('#chart')
				.datum(data) // bind data to the div
				.call(donut); // draw chart in div
	});
})

		
	</script>
</div>

	
</body>
	
	<footer>
        <p>Copyright 2018 Mandarin Data</p>
    </footer>
</html>
